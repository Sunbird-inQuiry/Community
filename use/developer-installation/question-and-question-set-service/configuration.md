---
description: This Page Explains All Configuration Used By Question & QuestionSet Service
---

# Configuration

We have 3 components under Question & QuestionSet Service:

1. inquiry-api-service (micro-service)
2. async-questionset-publish (flink job for data pipeline)
3. questionset-republish (flink job for data pipeline)

#### inquiry-api-service:

<table><thead><tr><th width="215" align="center">key</th><th width="175">default value</th><th>description</th><th>Optional/Required</th><th>Category</th></tr></thead><tbody><tr><td align="center">play.http.parser.maxMemoryBuffer</td><td>50MB</td><td>Play Framework Config. It allows to configure memory size for request coming to service</td><td>Optional</td><td>Play Framework Config.</td></tr><tr><td align="center">akka.http.parsing.max-content-length</td><td>50MB</td><td>Play Framework Config. It allows to configure size of request coming to service</td><td>Optional</td><td>Play Framework Config.</td></tr><tr><td align="center">schema.base_path</td><td>../../schemas/</td><td>Base Path for Object Level Schema.</td><td>Required</td><td>Microservice Config</td></tr><tr><td align="center">cassandra.lp.connection</td><td>127.0.0.1:9042</td><td>IP and Port of Cassandra Database</td><td>Required</td><td>Database Config</td></tr><tr><td align="center">redis.host</td><td>"localhost"</td><td>IP of Redis Database</td><td>Required</td><td>Database Config</td></tr><tr><td align="center">redis.port</td><td>6379</td><td>Port of Redis Database</td><td>Optional</td><td>Database Config</td></tr><tr><td align="center">redis.maxConnections</td><td>128</td><td>Maximum No of connection allowed</td><td>Optional</td><td>Database Config</td></tr><tr><td align="center">graph.dir</td><td>/data/graphDB</td><td>Graph DB (Neo4j) Configuration</td><td>Optional</td><td>Database Config</td></tr><tr><td align="center">akka.request_timeout</td><td>30</td><td>Request timeout</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">environment.id</td><td>ekstep</td><td>An unique id for representing env</td><td>Required</td><td>Microservice Config</td></tr><tr><td align="center">graph.ids</td><td>["domain"]</td><td>Graph DB (Neo4j) Configuration</td><td>Optional</td><td>Database Config</td></tr><tr><td align="center">graph.passport.key.base</td><td>31b6fd1c4d64e745c867e61a45edc34a</td><td>Graph DB (Neo4j) Configuration</td><td>Required</td><td>Database Config</td></tr><tr><td align="center">route.domain</td><td>"bolt://localhost:7687"</td><td>Graph DB (Neo4j) Configuration</td><td>Required</td><td>Database Config</td></tr><tr><td align="center">route.bolt.write.domain</td><td>"bolt://localhost:7687"</td><td>Graph DB (Neo4j) Configuration</td><td>Required</td><td>Database Config</td></tr><tr><td align="center">route.bolt.read.domain</td><td>"bolt://localhost:7687"</td><td>Graph DB (Neo4j) Configuration</td><td>Required</td><td>Database Config</td></tr><tr><td align="center">route.all</td><td>"bolt://localhost:7687"</td><td>Graph DB (Neo4j) Configuration</td><td>Required</td><td>Database Config</td></tr><tr><td align="center">route.bolt.write.all</td><td>"bolt://localhost:7687"</td><td>Graph DB (Neo4j) Configuration</td><td>Required</td><td>Database Config</td></tr><tr><td align="center">route.bolt.read.all</td><td>"bolt://localhost:7687"</td><td>Graph DB (Neo4j) Configuration</td><td>Required</td><td>Database Config</td></tr><tr><td align="center">shard.id</td><td>1</td><td>Graph DB (Neo4j) Configuration</td><td>Required</td><td>Database Config</td></tr><tr><td align="center">platform.auth.check.enabled</td><td>FALSE</td><td>Flag to enbale disable authentication check</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">platform.cache.ttl</td><td>3600000</td><td>Expiry Time for Cached Record</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">telemetry_env</td><td>dev</td><td>Environment Name for Telemetry</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">installation.id</td><td>ekstep</td><td>Installation Id</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">kafka.urls</td><td>"localhost:9092"</td><td>Kafka Host &#x26; Port</td><td>Required</td><td>Microservice Config</td></tr><tr><td align="center">kafka.topic.send.enable</td><td>TRUE</td><td>This flag is used to decide whether to send the publish event to kafka topic or not</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">kafka.topics.instruction</td><td>"local.assessment.publish.request"</td><td>Kafka Topic name for publish api</td><td>Required</td><td>Microservice Config</td></tr><tr><td align="center">objectcategorydefinition.keyspace</td><td>"category_store"</td><td>Keyspace Name from where service should read primary category definition</td><td>Required</td><td>Microservice Config</td></tr><tr><td align="center">questionset.keyspace</td><td>"hierarchy_store"</td><td>Keyspace Name where questionset hierarchy and other external data (e.g: instructions) should be saved.</td><td>Required</td><td>Microservice Config</td></tr><tr><td align="center">question.keyspace</td><td>"question_store"</td><td>Keyspace Name where question external data (e.g: body, editorState, etc) should be saved.</td><td>Required</td><td>Microservice Config</td></tr><tr><td align="center">question.list.limit</td><td>20</td><td>Number of Identifiers allowed in Question List api</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">neo4j_objecttypes_enabled</td><td>["Question"]</td><td>This config is used to decide whether to write data in graph or not from hierarchy children</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">composite.search.url</td><td>http://localhost:9000</td><td>Host Url of Knowlg search service</td><td>Required</td><td>Microservice Config</td></tr><tr><td align="center">import.request_size_limit</td><td>200</td><td>Request limit for import api</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">import.output_topic_name</td><td>"local.auto.creation.job.request"</td><td>Kafka topic name for import api</td><td>Required</td><td>Microservice Config</td></tr><tr><td align="center">import.required_props.question</td><td>["name", "code", "mimeType", "framework", "channel"]</td><td>Name of required properties of Question object for import api</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">import.required_props.questionset</td><td>["name", "code", "mimeType", "framework", "channel"]</td><td>Name of required properties of QuestionSet object for import api</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">import.remove_props.question</td><td>[]</td><td>Name of properties which need to be removed from Question object for import api</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">import.remove_props.questionset</td><td>[]</td><td>Name of properties which need to be removed from QuestionSet object for import api</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">root_node_visibility</td><td>["Default","Private"]</td><td>Allowed Visibility for Root QuestionSet object</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">master.category.validation.enabled</td><td>Yes</td><td>This flag is used to control framework categories validation</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">question.cache.enable</td><td>true</td><td>This flag control caching data for Live Questions into Redis Cache</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">questionset.cache.enable</td><td>true</td><td>This flag control caching data for Live QuestionSets into Redis Cache</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">assessment.copy.origin_data</td><td>["name", "author", "license", "organisation"]</td><td>This Config holds property names which should be populated as originData into copied node.</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">assessment.copy.props_to_remove</td><td>["downloadUrl", "artifactUrl", "variants","createdOn", "collections", "children", "lastUpdatedOn", "SYS_INTERNAL_LAST_UPDATED_ON","versionKey", "s3Key", "status", "pkgVersion", "toc_url", "mimeTypesCount","contentTypesCount","leafNodesCount", "childNodes", "prevState", "lastPublishedOn","flagReasons", "compatibilityLevel", "size", "publishChecklist", "publishComment","LastPublishedBy", "rejectReasons", "rejectComment", "gradeLevel", "subject","medium", "board", "topic", "purpose", "subtopic", "contentCredits","owner", "collaborators", "creators", "contributors", "badgeAssertions", "dialcodes","concepts", "keywords", "reservedDialcodes", "dialcodeRequired", "leafNodes", "sYS_INTERNAL_LAST_UPDATED_ON","prevStatus","lastPublishedBy", "streamingUrl"]</td><td>This Config holds all property names which should be removed while copying Question/QuestionSet object.</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">cloud_storage_container</td><td>NA</td><td>This Config holds container name of cloud storage where data should be stored/read.</td><td>Required</td><td>Cloud Storage Config</td></tr><tr><td align="center">cloudstorage.metadata.replace_absolute_path</td><td>false</td><td>This flag is used for storing all metadata having cloud storage path as cloud agnostic path in db and return absolute path in read api responses. By default it is disabled.</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">cloudstorage.metadata.list</td><td>NA</td><td>This config holds list of all property where cloud storage path can be present. This Config will be used only if cloudstorage.metadata.replace_absolute_path is enabled.</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">cloudstorage.relative_path_prefix</td><td>CLOUD_STORAGE_BASE_PATH</td><td>This config holds the string value which should be used in place of cloud storage base url. This config will be used only if cloudstorage.metadata.replace_absolute_path is enabled.</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">cloudstorage.read_base_pat</td><td>NA</td><td>This config holds the  storage base url or cname url which should be used to convert urls to absolute url before returning data to user. This config will be used only if cloudstorage.metadata.replace_absolute_path is enabled.</td><td>Optional</td><td>Microservice Config</td></tr><tr><td align="center">cloudstorage.write_base_path</td><td>NA</td><td>This config can hold multiple cloud storage base url  which should be should be replaced by the value of cloudstorage.relative_path_prefix. This config will be used only if cloudstorage.metadata.replace_absolute_path is enabled.</td><td>Optional</td><td>Microservice Config</td></tr></tbody></table>

#### async-questionset-publish (flink job):

| Key                                           | Default Value                                                                           | Description                                                                                                                                                                                                                              | Required/Optional | Category             |
| --------------------------------------------- | --------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------- | -------------------- |
| kafka.input.topic                             | \{{ env\_name \}}.assessment.publish.request                                            | This config holds value of input kafka topic name from where events should be read for processing                                                                                                                                        | Required          | Kafka Config         |
| kafka.post\_publish.topic                     | \{{ env\_name \}}.assessment.postpublish.request                                        | This config holds value of kafka topic name for any post publish activity.                                                                                                                                                               | Required          | Kafka Config         |
| kafka.groupId                                 | \{{ env\_name \}}-questionset-publish-group                                             | This config holds the group name for kafka input topic where flink checkpointer is maintained.                                                                                                                                           | Optional          | Kafka Config         |
| task.consumer.parallelism                     | 1                                                                                       | This config decides how many threads/process to run for consumer                                                                                                                                                                         | Optional          | Flink Config         |
| task.parallelism                              | 1                                                                                       | This config decides how many process to run in parallel for event processing.                                                                                                                                                            | Optional          | Flink Config         |
| task.router.parallelism                       | 1                                                                                       | This config decides how many process to run for event router.                                                                                                                                                                            | Optional          | Flink Config         |
| question.keyspace                             | \{{instance\}}\_question\_store                                                         | Cassandra db keyspace name where question data is stored. instance variable will have env name                                                                                                                                           | Required          | Database Config      |
| question.table                                | question\_data                                                                          | Cassandra db table name where question data is stored.                                                                                                                                                                                   | Optional          | Database Config      |
| questionset.keyspace                          | \{{instance\}}\_hierarchy\_store                                                        | Cassandra db keyspace name where questionset data is stored. instance variable will have env name                                                                                                                                        | Required          | Database Config      |
| questionset.table                             | questionset\_hierarchy                                                                  | Cassandra db table name where questionset data is stored.                                                                                                                                                                                | Optional          | Database Config      |
| print\_service.base\_url                      | NA                                                                                      | Print Service Host Url should be configured.                                                                                                                                                                                             | Required          | Job Config           |
| cloud\_storage\_type                          | NA                                                                                      | This config holds cloud storage provider name. e.g: azure, aws, etc.                                                                                                                                                                     | Required          | Cloud Storage Config |
| cloud\_storage\_key                           | NA                                                                                      | This Config holds unique key which represents specific cloud storage account                                                                                                                                                             | Required          | Cloud Storage Config |
| cloud\_storage\_secret                        | NA                                                                                      | This Config holds secret key to access cloud storage.                                                                                                                                                                                    | Required          | Cloud Storage Config |
| cloud\_storage\_endpoint                      | ""                                                                                      | This Config holds endpoint of cloud storage, if needed by cloud storage.                                                                                                                                                                 | Optional          | Cloud Storage Config |
| cloud\_storage\_container                     | NA                                                                                      | This Config holds container name of cloud storage where data should be stored/read.                                                                                                                                                      | Required          | Cloud Storage Config |
| master.category.validation.enabled            | Yes                                                                                     | This flag is used to control framework categories validation                                                                                                                                                                             | Optional          | Job Config           |
| cloudstorage.metadata.replace\_absolute\_path | false                                                                                   | This flag is used for storing all metadata having cloud storage path as cloud agnostic path in db and return absolute path in read api responses. By default it is disabled.                                                             | Optional          | Job Config           |
| cloudstorage.metadata.list                    | \["appIcon","posterImage","artifactUrl","downloadUrl","variants","previewUrl","pdfUrl"] | This config holds list of all property where cloud storage path can be present. This Config will be used only if cloudstorage.metadata.replace\_absolute\_path is enabled.                                                               | Optional          | Job Config           |
| cloudstorage.relative\_path\_prefix           | CLOUD\_STORAGE\_BASE\_PATH                                                              | This config holds the string value which should be used in place of cloud storage base url. This config will be used only if cloudstorage.metadata.replace\_absolute\_path is enabled.                                                   | Optional          | Job Config           |
| cloudstorage.read\_base\_pat                  | "https://sunbirddevbbpublic.blob.core.windows.net"                                      | This config holds the  storage base url or cname url which should be used to convert urls to absolute url before returning data to user. This config will be used only if cloudstorage.metadata.replace\_absolute\_path is enabled.      | Optional          | Job Config           |
| cloudstorage.write\_base\_path                | \["https://sunbirddevbbpublic.blob.core.windows.net"]                                   | This config can hold multiple cloud storage base url  which should be should be replaced by the value of cloudstorage.relative\_path\_prefix. This config will be used only if cloudstorage.metadata.replace\_absolute\_path is enabled. | Optional          | Job Config           |

#### questionset-republish (flink job):

| Key                       | Default Value                                    | Description                                                                                       | Required/Optional | Category     |
| ------------------------- | ------------------------------------------------ | ------------------------------------------------------------------------------------------------- | ----------------- | ------------ |
| kafka.input.topic         | \{{ env\_name \}}.assessment.republish.request   | This config holds value of input kafka topic name from where events should be read for processing | Required          | Kafka Config |
| kafka.post\_publish.topic | \{{ env\_name \}}.assessment.postpublish.request | This config holds value of kafka topic name for any post re-publish activity.                     | Required          | Kafka Config |
| kafka.groupId             | \{{ env\_name \}}-questionset-republish-group    | This config holds the group name for kafka input topic where flink checkpointer is maintained.    | Required          | Kafka Config |

Rest other configuration of async-questionset-publish job is applicable for this job as well with all default values.
